10 ' ***** BLOCK BREAKER *****
20 SCREEN1,2,0:WIDTH32:KEYOFF:COLOR15,1,1
30 DEFINT A-X:CLEAR255,&HC000:GOSUB 10000
35 'GOSUB700
40 BX=16:BY=20:VX=1:VY=-1:AX=0:AY=0:PX=15:SC=0:B=3
45 GOSUB 800:GOSUB 900
50 ' ***** TITLE *****
60 GOSUB 1000
70 ' ***** GAME INIT *****
80 GOSUB700:GOSUB750:GOSUB800
90 BX=16:BY=20:VX=1:VY=-1:PX=15:SC=0:B=3
100 ' ***** GAME MAIN *****
110 ' PLAYER CONTROL
120 S=STICK(0)
130 ' BALL MOVE & HIT CHECK
140 AX=BX\2:AY=(BY+VY)*16:AD=&HC000+AX+AY:V=PEEK(AD):IFV=0THENGOTO200
150 IFV<>255THENPOKE(AD),0:LOCATEAX*2,BY+VY:PRINT"  ":SC=SC+1:GOSUB800
150 VY=VY*-1
200 AX=(BX+VX)\2:AY=BY*16:AD=&HC000+AX+AY:V=PEEK(AD):IFV=0THENGOTO300
210 IFV<>255THENPOKE(AD),0:LOCATEAX*2,BY+VY:PRINT"  ":SC=SC+1:GOSUB800
220 VX=VX*-1
300 IFBY>22THENVY=VY*-1' MISS
310 BX=BX+VX:BY=BY+VY:GOSUB900:GOTO100
700 ' ***** MEMORY INIT *****
710 FORI=0TO22:FORJ=0TO15:AD=&HC000+I*16+J:IFI=0ORJ=0ORJ=15THENPOKEAD,255ELSEIFI>1ANDI<9THENPOKEAD,1ELSEPOKEAD,0
720 NEXTJ,I:RETURN
750 ' ***** FIELD DRAW *****
760 FORI=0TO22:FORJ=0TO15:V=PEEK(&HC000+I*16+J):LOCATEJ*2,I:IFV=255THENPRINT"##";ELSEIFV=1THENPRINT"[]";
770 NEXTJ,I:RETURN
800 ' ***** PRINT INFORMATION *****
810 LOCATE0,0:PRINT USING "SCORE:#####0";SC:LOCATE 26,0:PRINT USING"BALL:#";B:RETURN
900 ' ***** PUT BALL & PADDLE *****
910 PUT SPRITE0,(BX*8,BY*8),13,0
920 PUT SPRITE1,(PX*8,176),15,1
930 RETURN
1000 ' ***** TITLE *****
1010 LOCATE 9,9:PRINT"BLOCK BREAKER"
1020 LOCATE 9,14:PRINT"PUSH SPACE KEY"
1030 IF STRIG(0)=0 GOTO 1030
1040 LOCATE 9,9:PRINT SPACE$(13):LOCATE 9,14:PRINT SPACE$(14)
1050 RETURN
10000 ' ***** CHARACTER INIT *****
10010 FOR I=0 TO 1:L$="":R$="":FOR J=0 TO 15:READ A$:L$=L$+CHR$(VAL("&B"+LEFT$(A$,8))):R$=R$+CHR$(VAL("&B"+RIGHT$(A$,8))):NEXT J:SPRITE$(I)=L$+R$:NEXT I:RETURN
10020 ' ***** BALL *****
10030 DATA 0000000000000000
10040 DATA 0001100000000000
10050 DATA 0010110000000000
10060 DATA 0101111000000000
10070 DATA 0111111000000000
10080 DATA 0011110000000000
10090 DATA 0001100000000000
10100 DATA 0000000000000000
10110 DATA 0000000000000000
10120 DATA 0000000000000000
10130 DATA 0000000000000000
10140 DATA 0000000000000000
10150 DATA 0000000000000000
10160 DATA 0000000000000000
10170 DATA 0000000000000000
10180 DATA 0000000000000000
10190 ' ***** PADDLE *****
10200 DATA 0010000000000100
10210 DATA 0101111111111010
10220 DATA 1011111111111101
10230 DATA 1011111111111101
10240 DATA 1011111111111101
10250 DATA 1010000000000101
10260 DATA 0101111111111010
10270 DATA 0010000000000100
10280 DATA 0000000000000000
10290 DATA 0000000000000000
10300 DATA 0000000000000000
10310 DATA 0000000000000000
10320 DATA 0000000000000000
10330 DATA 0000000000000000
10340 DATA 0000000000000000
10350 DATA 0000000000000000
